<!doctype html>
<html>
<head>
  <title>Course 210 | Lesson 3 Practice Problems: Code Review -- Rot13 Cipher</title>
</head>
<body>
<h1>Code Review -- Rot13 Cipher</h1>
<p>Rot13 ("rotate by 13 places") is a letter-substitution cipher that translates a String into a new String.</p>

<p>For each character in the original String:</p>
<ul>
<li>If the character is a letter in the modern English alphabet, change it to the character 13 positions later in the alphabet. So a becomes n. If you reach the end of the alphabet, return to the beginning. So o becomes b.</li>
<li>Letter transformations preserve case. A becomes N while a becomes n.</li>
<li>Don't modify characters that are not letters.</li>
</ul>
<p>Write a Function, rot13, that takes a String and returns that String transformed by the rot13 cipher.</p>
<script>
// input: a string
// output: a string of the same length with any letters 'rotated' around the alphabet by 13 places
// algorithm:
// 1) Set an initially empty output string
// 2) Iterate through each character in the input string. On each iteration:
//  - Determine if the character is in the English alphabet (a-z or A-Z)
//    - If no, concatenate it to the output string
//    - If yes
//      - determine the 'rotation amount' (13 for a-m or A-M, -13 for n-z or N-Z)
//      - 'rotate' the character by the appropriate amount
//      - concatenate the 'rotated' character to the output string
// 3) Log the output string to the console

//test cases
console.log(rot13('Teachers open the door, but you must enter by yourself.'));
// logs:
// Grnpuref bcra gur qbbe, ohg lbh zhfg ragre ol lbhefrys.

console.log(rot13(rot13('Teachers open the door, but you must enter by yourself.')));
// logs:
// Teachers open the door, but you must enter by yourself.


function rot13(string) {
  var outputString = '';
  var char;

  for (var i = 0; i < string.length; i++) {
    char = string[i];

    if ((char >= 'A' && char <= 'Z') || (char >= 'a' && char <= 'z')) {
      outputString += rotateChar(char);
    } else {
      outputString += char;
    }
  }

  return outputString;
}

function rotateChar(char) {
  var ROTATION = 13;
  var lowerCaseChar = char.toLowerCase();
  var charCode = char.charCodeAt(0);

  if (lowerCaseChar >= 'n' && lowerCaseChar <= 'z') {
    ROTATION = -13;
  }

  return String.fromCharCode(charCode + ROTATION);
}
</script>
</body>
</html>