<!doctype html>
<html>
<head>
  <title>LS 210 | JavaScript Language Fundamentals: Objects</title>
</head>
<body>
<h1>Launch School 210 | Exercises -- JavaScript Language Fundamentals: Objects</h1>
<h2>Exercise 9: After Midnight Part 1</h2>
<p>We can use the number of minutes before or after midnight to represent the time of a day. If the number of minutes is positive, the time is after midnight. If the number of minutes is negative, the time is before midnight.</p>
<p>The function below takes a time argument using this minute-based format and returns the time of day in 24 hour format (hh:mm).</p>
<p>Go over the functions and re-implement it using JavaScript's Date Object.</p>
<p>Note: Disregard Daylight Savings and Standard Time and other complications.</p>
<h2>Discussion</h2>
<p>Going over the provided function, you may notice that there are 2 parts that the function is aiming to get; (1) The hours component and (2) the minutes component. Without using the Date object's methods the function has to handle the sign of the input (negative or positive) and the wrapping around of the 24hr clock.</p>
<script>
// var MINUTES_PER_HOUR = 60;
// var HOURS_PER_DAY = 24;
// var MINUTES_PER_DAY = HOURS_PER_DAY * MINUTES_PER_HOUR;
//
// function timeOfDay(deltaMinutes) {
//   var hours;
//   var minutes;
//
//   deltaMinutes = deltaMinutes % MINUTES_PER_DAY;
//   if (deltaMinutes < 0) {
//     deltaMinutes = MINUTES_PER_DAY + deltaMinutes;
//   }
//
//   hours = Math.floor(deltaMinutes / MINUTES_PER_HOUR);
//   minutes = deltaMinutes % MINUTES_PER_HOUR;
//
//   return padWithZeroes(hours, 2) + ':' + padWithZeroes(minutes, 2);
// }

function padWithZeroes(number, length) {
  var numberString = String(number);

  while (numberString.length < length) {
    numberString = '0' + numberString;
  }

  return numberString;
}

// version reimplemented with Date

var MILLISECONDS_PER_MINUTE = 60000;

function timeOfDay(deltaMinutes) {
  var myDate = new Date(1970, 0);
  myDate.setTime(deltaMinutes * MILLISECONDS_PER_MINUTE);

  return padWithZeroes(myDate.getUTCHours(), 2) + ':' + padWithZeroes(myDate.getUTCMinutes(), 2);
}

console.log(timeOfDay(0));       // "00:00"
console.log(timeOfDay(-3));      // "23:57"
console.log(timeOfDay(35));      // "00:35"
console.log(timeOfDay(-1437));   // "00:03"
console.log(timeOfDay(3000));    // "02:00"
console.log(timeOfDay(800));     // "13:20"
console.log(timeOfDay(-4231));   // "01:29"
</script>
</body>
</html>
